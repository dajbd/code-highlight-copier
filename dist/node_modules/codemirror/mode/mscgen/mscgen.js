!function(t){"object"==typeof exports&&"object"==typeof module?t(require("node_modules/codemirror/lib/codemirror.js")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";function r(t){return new RegExp("\\b(("+t.join(")|(")+"))\\b","i")}function e(t){return new RegExp("(("+t.join(")|(")+"))","i")}function o(){return{inComment:!1,inString:!1,inAttributeList:!1,inScript:!1}}function n(t){return{inComment:t.inComment,inString:t.inString,inAttributeList:t.inAttributeList,inScript:t.inScript}}function i(t){return function(o,n){if(o.match(e(t.brackets),!0,!0))return"bracket";if(!n.inComment){if(o.match(/\/\*[^\*\/]*/,!0,!0))return n.inComment=!0,"comment";if(o.match(e(t.singlecomment),!0,!0))return o.skipToEnd(),"comment"}if(n.inComment)return o.match(/[^\*\/]*\*\//,!0,!0)?n.inComment=!1:o.skipToEnd(),"comment";if(!n.inString&&o.match(/\"(\\\"|[^\"])*/,!0,!0))return n.inString=!0,"string";if(n.inString)return o.match(/[^\"]*\"/,!0,!0)?n.inString=!1:o.skipToEnd(),"string";if(t.keywords&&o.match(r(t.keywords),!0,!0))return"keyword";if(o.match(r(t.options),!0,!0))return"keyword";if(o.match(r(t.arcsWords),!0,!0))return"keyword";if(o.match(e(t.arcsOthers),!0,!0))return"keyword";if(t.operators&&o.match(e(t.operators),!0,!0))return"operator";if(!t.inAttributeList&&t.attributes&&o.match(/\[/,!0,!0))return t.inAttributeList=!0,"bracket";if(t.inAttributeList){if(null!==t.attributes&&o.match(r(t.attributes),!0,!0))return"attribute";if(o.match(/]/,!0,!0))return t.inAttributeList=!1,"bracket"}return o.next(),"base"}}var c={mscgen:{keywords:["msc"],options:["hscale","width","arcgradient","wordwraparcs"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},xu:{keywords:["msc"],options:["hscale","width","arcgradient","wordwraparcs","watermark"],attributes:["label","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"],brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]},msgenny:{keywords:null,options:["hscale","width","arcgradient","wordwraparcs","watermark"],attributes:null,brackets:["\\{","\\}"],arcsWords:["note","abox","rbox","box","alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"],arcsOthers:["\\|\\|\\|","\\.\\.\\.","---","--","<->","==","<<=>>","<=>","\\.\\.","<<>>","::","<:>","->","=>>","=>",">>",":>","<-","<<=","<=","<<","<:","x-","-x"],singlecomment:["//","#"],operators:["="]}};t.defineMode("mscgen",function(t,r){var e=c[r&&r.language||"mscgen"];return{startState:o,copyState:n,token:i(e),lineComment:"#",blockCommentStart:"/*",blockCommentEnd:"*/"}}),t.defineMIME("text/x-mscgen","mscgen"),t.defineMIME("text/x-xu",{name:"mscgen",language:"xu"}),t.defineMIME("text/x-msgenny",{name:"mscgen",language:"msgenny"})});