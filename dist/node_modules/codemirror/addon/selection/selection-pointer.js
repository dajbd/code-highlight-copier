!function(e){"object"==typeof exports&&"object"==typeof module?e(require("node_modules/codemirror/lib/codemirror.js")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function o(e,o){var t=e.state.selectionPointer;(null==o.buttons?o.which:o.buttons)?t.mouseX=t.mouseY=null:(t.mouseX=o.clientX,t.mouseY=o.clientY),i(e)}function t(e,o){if(!e.getWrapperElement().contains(o.relatedTarget)){var t=e.state.selectionPointer;t.mouseX=t.mouseY=null,i(e)}}function n(e){e.state.selectionPointer.rects=null,i(e)}function i(e){e.state.selectionPointer.willUpdate||(e.state.selectionPointer.willUpdate=!0,setTimeout(function(){l(e),e.state.selectionPointer.willUpdate=!1},50))}function l(e){var o=e.state.selectionPointer;if(o){if(null==o.rects&&null!=o.mouseX&&(o.rects=[],e.somethingSelected()))for(var t=e.display.selectionDiv.firstChild;t;t=t.nextSibling)o.rects.push(t.getBoundingClientRect());var n=!1;if(null!=o.mouseX)for(var i=0;i<o.rects.length;i++){var l=o.rects[i];l.left<=o.mouseX&&l.right>=o.mouseX&&l.top<=o.mouseY&&l.bottom>=o.mouseY&&(n=!0)}var s=n?o.value:"";e.display.lineDiv.style.cursor!=s&&(e.display.lineDiv.style.cursor=s)}}e.defineOption("selectionPointer",!1,function(i,l){var s=i.state.selectionPointer;s&&(e.off(i.getWrapperElement(),"mousemove",s.mousemove),e.off(i.getWrapperElement(),"mouseout",s.mouseout),e.off(window,"scroll",s.windowScroll),i.off("cursorActivity",n),i.off("scroll",n),i.state.selectionPointer=null,i.display.lineDiv.style.cursor=""),l&&(s=i.state.selectionPointer={value:"string"==typeof l?l:"default",mousemove:function(e){o(i,e)},mouseout:function(e){t(i,e)},windowScroll:function(){n(i)},rects:null,mouseX:null,mouseY:null,willUpdate:!1},e.on(i.getWrapperElement(),"mousemove",s.mousemove),e.on(i.getWrapperElement(),"mouseout",s.mouseout),e.on(window,"scroll",s.windowScroll),i.on("cursorActivity",n),i.on("scroll",n))})});