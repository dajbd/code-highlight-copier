!function(e){"object"==typeof exports&&"object"==typeof module?e(require("node_modules/codemirror/lib/codemirror.js")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("mathematica",function(){function e(e,n){var o;return o=e.next(),'"'===o?(n.tokenize=t,n.tokenize(e,n)):"("===o&&e.eat("*")?(n.commentLevel++,n.tokenize=a,n.tokenize(e,n)):(e.backUp(1),e.match(i,!0,!1)?"number":e.match(z,!0,!1)?"number":e.match(/(?:In|Out)\[[0-9]*\]/,!0,!1)?"atom":e.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::usage)/,!0,!1)?"meta":e.match(/([a-zA-Z\$]+(?:`?[a-zA-Z0-9\$])*::[a-zA-Z\$][a-zA-Z0-9\$]*):?/,!0,!1)?"string-2":e.match(/([a-zA-Z\$][a-zA-Z0-9\$]*\s*:)(?:(?:[a-zA-Z\$][a-zA-Z0-9\$]*)|(?:[^:=>~@\^\&\*\)\[\]'\?,\|])).*/,!0,!1)?"variable-2":e.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+[a-zA-Z\$][a-zA-Z0-9\$]*/,!0,!1)?"variable-2":e.match(/[a-zA-Z\$][a-zA-Z0-9\$]*_+/,!0,!1)?"variable-2":e.match(/_+[a-zA-Z\$][a-zA-Z0-9\$]*/,!0,!1)?"variable-2":e.match(/\\\[[a-zA-Z\$][a-zA-Z0-9\$]*\]/,!0,!1)?"variable-3":e.match(/(?:\[|\]|{|}|\(|\))/,!0,!1)?"bracket":e.match(/(?:#[a-zA-Z\$][a-zA-Z0-9\$]*|#+[0-9]?)/,!0,!1)?"variable-2":e.match(u,!0,!1)?"keyword":e.match(/(?:\\|\+|\-|\*|\/|,|;|\.|:|@|~|=|>|<|&|\||_|`|'|\^|\?|!|%)/,!0,!1)?"operator":"error")}function t(t,a){for(var n,o=!1,r=!1;null!=(n=t.next());){if('"'===n&&!r){o=!0;break}r=!r&&"\\"===n}return o&&!r&&(a.tokenize=e),"string"}function a(t,a){for(var n,o;a.commentLevel>0&&null!=(o=t.next());)"("===n&&"*"===o&&a.commentLevel++,"*"===n&&")"===o&&a.commentLevel--,n=o;return a.commentLevel<=0&&(a.tokenize=e),"comment"}var n="[a-zA-Z\\$][a-zA-Z0-9\\$]*",o="(?:\\d+)",r="(?:\\.\\d+|\\d+\\.\\d*|\\d+)",m="(?:\\.\\w+|\\w+\\.\\w*|\\w+)",c="(?:`(?:`?"+r+")?)",i=new RegExp("(?:"+o+"(?:\\^\\^"+m+c+"?(?:\\*\\^[+-]?\\d+)?))"),z=new RegExp("(?:"+r+c+"?(?:\\*\\^[+-]?\\d+)?)"),u=new RegExp("(?:`?)(?:"+n+")(?:`(?:"+n+"))*(?:`?)");return{startState:function(){return{tokenize:e,commentLevel:0}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)},blockCommentStart:"(*",blockCommentEnd:"*)"}}),e.defineMIME("text/x-mathematica",{name:"mathematica"})});