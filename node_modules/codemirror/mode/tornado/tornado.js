!function(e){"object"==typeof exports&&"object"==typeof module?e(require("node_modules/codemirror/lib/codemirror.js"),require("node_modules/codemirror/mode/htmlmixed/htmlmixed.js"),require("node_modules/codemirror/addon/mode/overlay.js")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("tornado:inner",function(){function e(e,t){e.eatWhile(/[^\{]/);var n=e.next();return"{"==n&&(n=e.eat(/\{|%|#/))?(t.tokenize=o(n),"tag"):void 0}function o(o){return"{"==o&&(o="}"),function(n,r){var i=n.next();return i==o&&n.eat("}")?(r.tokenize=e,"tag"):n.match(t)?"keyword":"#"==o?"comment":"string"}}var t=["and","as","assert","autoescape","block","break","class","comment","context","continue","datetime","def","del","elif","else","end","escape","except","exec","extends","false","finally","for","from","global","if","import","in","include","is","json_encode","lambda","length","linkify","load","module","none","not","or","pass","print","put","raise","raw","return","self","set","squeeze","super","true","try","url_escape","while","with","without","xhtml_escape","yield"];return t=new RegExp("^(("+t.join(")|(")+"))\\b"),{startState:function(){return{tokenize:e}},token:function(e,o){return o.tokenize(e,o)}}}),e.defineMode("tornado",function(o){var t=e.getMode(o,"text/html"),n=e.getMode(o,"tornado:inner");return e.overlayMode(t,n)}),e.defineMIME("text/x-tornado","tornado")});